# MCRcon-Simple-KIT
A simple kit for using MCRcon

# 注意事項 - Notes
この説明書及びファイルのコメントは日本語で記載しています。 英語で使用する場合は、適宜翻訳を行ってください。

This instruction manual and the comments in the file are written in Japanese. Please translate them into English as needed for use in English.

# 本キットについて - About
サーバーの起動とRconの簡易的な使用ができるキットです。
ファイルをダウンロードして追記することで様々な機能が実装できます。

# 使用前準備 - Preparation
本ファイルは使用にあたって少し準備が必要になります。<br>通常のサーバー起動とは少し違うので気をつけてください。

## 準備するもの
使用には以下のものが必要になります。
1. サーバー起動用のjarファイル(公式サーバーでのみ動作を保証しています)
2. ワールドデータ
3. ダウンロードした3つのpythonファイル(main.py, function.py, settings.py)
4. pythonを実行できる環境(自分で調べてください。私に聞かないでください。)
5. MCRcon(事前にインストールをしてください。調べたら私の記事が出るかも...)
6. pythonファイルの記述と実行ができるテキストエディタ(VSCodeなどを推奨しています)

## 実行準備
以上のものを準備した後、テキストエディタから「python main.py」を1回実行してください。<br>
rconsetting.txtという本セットで使用するファイルが生成されます。<br>
生成されたファイルに必要事項を記載してください。

1行目はサーバー起動に使用するjarファイルのファイル名を記載してください。<br>
2行目はRCONで使用するパスフレーズなので無視してください。(外部からRCON接続を行う場合はこのパスワードを用いてください。)<br>
3行目はサーバーで使用するメモリです。増やす又は減らす場合は数字を変更してください。<br>
4行目はRCONの保護モードの切替を行える管理者リストです。もしあなたが管理者なら、自身のMCIDを記載してください。<br>
複数人を記載する場合は、スペースを開けずにコンマ「,」で区切って書いてください。

正しく設定した後に再び「python main.py」を実行すれば、通常のサーバ構築と同様にeula.txtの生成又はサーバーの起動が行えます。

# 実行方法
pythonが実行できる環境で「python main.py」のコマンドを実行してください。<br>
実行後に何かの処理を行いたい場合は、ゲーム内で「rcon >>[コマンド]」を実行してください。<br>
基本コマンドと、記載したコマンドが実行できます。<br>

# 内部仕様
* main.py

実行するファイルです。<br>
サーバーの起動とMCRconの起動を同時に行っています。

* setting.py

サーバー設定に関するファイルです。<br>
rconsetting.txtから読み込んだり、rconsetting.txtに書き込んでいます。

* function.py

RCONの内部処理です。<br>
この部分に様々な記述を足すことで様々な処理ができます。

# 基本コマンド一覧
* rcon >>setup

何かしらの不具合でrconが起動していない場合や、rconをシャットダウンしている状態からrconを起動します。
既にrconを起動している場合は、rconを再起動します。

* rcon >>shutdown

rconが不要な際にrconをシャットダウンします。

* rcon >>protect

サーバーの保護モードのオンオフを切り替えます。
事前に設定したRCON管理者以外は設定できません。
保護モードの間、保護モードプレイヤー以外はサーバーに入ることが出来ません。

* rcon >>protect list

保護モードプレイヤー一覧を表示します。
事前に設定したRCON管理者以外は設定できません。

* rcon >>protect add [プレイヤー名]

プレイヤーを保護モード一覧に追加します。

* rcon >>protect remove [プレイヤー名]

プレイヤーを保護モード一覧から削除します。
事前に設定したRCON管理者以外は設定できません。
